function pixelGlass(){"use strict";var t,e=document,o="controls-panel",a=[],n="pg",i=["none","invert"],l=["off","on"],r={state:d("state",l[1]),filter:d("filter",i[0]),opacity:d("opacity",.5)},s={state:{elem:e.documentElement,attr:"data"},filter:{elem:e.body,attr:"data"},opacity:{elem:e.body,attr:"style"}},u={elemTag:"button",elemText:"on",listName:"states",itemName:"state",target:s.state,type:"button",list:l,canDisableAll:!0,attrs:{tabindex:1}},c={elemTag:"button",elemText:"invert",listName:"filters",itemName:"filter",target:s.filter,type:"button",list:i,attrs:{tabindex:2}},f={itemName:"opacity",type:"number",target:s.opacity,setAttr:"style",attrs:{min:0,max:1,step:.1,tabindex:3}};function m(n){n.listName;var i=n.itemName,l=n.elemTag,u=n.elemText,c=n.type,f=n.list,m=(n.action,r[i]),d=n.attrs,h=f.indexOf(m),A=n.canDisableAll,x=i,_=e.createElement(l);if(g(_,[o+"__control",o+"__control--"+c]),_.setAttribute("type",c),_.setAttribute("id",x),v(_,"state-num",h),d)for(var E in d)_.setAttribute(E,d[E]);"button"===l&&(_.innerHTML=u),A||a.push(_),t.appendChild(_),_.onclick=function(){n.target&&(m=f[h=+!h],v(_,"state-num",h),v(n.target.elem,i,m),b(i,m),A&&!0===A&&("off"===m?(function(){for(var t in s){var e=s[t];"style"===e.attr&&(e.elem.style[t]="")}}(),p()):(y(),a.forEach(function(t){t.removeAttribute("disabled")}))))}}function p(){a.forEach(function(t){t.setAttribute("disabled","")})}function d(t,e){var o=[n,t].join("-");return localStorage[o]||e}function b(t,e){var o=[n,t].join("-");localStorage[o]=e}function y(){for(var t in s){var e=s[t],o=r[t];"style"===e.attr&&(e.elem.style[t]=o)}}function v(t,e,o){t&&(e="data-"+e,t.setAttribute(e,o))}function g(t,e){t&&0<e.length&&e.forEach(function(e){t.classList.add(e)})}(function(){var n,i,l,s=e.documentElement;if(i="has-sticky-point",(n=e.body)&&(i="data-"+i,void 0!==n.getAttribute(i)&&null!==n.getAttribute(i))){var p=e.querySelector(".sticky-point");p&&!localStorage["pg-released"]&&(s=p),r.state="off"}(t=e.createElement("div")).classList.add(o),s.appendChild(t),["top","right","bottom","left"].forEach(function(e){var o=d(e,"");o&&(t.style[e]=o)}),m(u),m(c),function(n){var i=n.itemName,l=n.attrs,s=n.type,u=n.setAttr,c=n.canDisableAll,f=i,m=e.createElement("input");for(var p in g(m,[o+"__control",o+"__control--"+s]),m.setAttribute("type",s),m.setAttribute("id",f),l)m.setAttribute(p,l[p]);m.setAttribute("value",r[i]),c||a.push(m),t.appendChild(m),m.oninput=function(){"style"===u&&(n.target.elem.style[i]=this.value,b(i,this.value))}}(f),g(l=e.createElement("button"),[o+"__control",o+"__control--drag-n-drop"]),l.setAttribute("type","button"),l.innerHTML=" ",t.appendChild(l),l.onmousedown=function(){this.offsetTop;var o=t.clientWidth-this.clientWidth,a=getComputedStyle(t);t.style.top=a.top,t.style.left=a.left,t.style.right="auto",t.style.bottom="auto",e.onmousemove=function(e){var a=e.clientX-o+"px",n=e.clientY+"px";t.style.left=a,t.style.top=n}},l.onmouseup=function(){var o=getComputedStyle(t),a=+o.left.replace(/px/,""),n=+o.right.replace(/px/,""),i=+o.top.replace(/px/,""),l=+o.bottom.replace(/px/,"");n<a?(b("left","auto"),b("right",o.right),t.style.right=o.right,t.style.left="auto"):(b("left",o.left),b("right","auto")),l<i?(b("top","auto"),b("bottom",o.bottom),t.style.bottom=o.bottom,t.style.top="auto"):(b("top",o.top),b("bottom","auto")),e.onmousemove=null}})(),function(){for(var t in s){var e=s[t],o=r[t];"data"===e.attr&&v(e.elem,t,o)}"off"===r.state&&p()}(),"on"===r.state&&y()}window.onload=function(){pixelGlass()};